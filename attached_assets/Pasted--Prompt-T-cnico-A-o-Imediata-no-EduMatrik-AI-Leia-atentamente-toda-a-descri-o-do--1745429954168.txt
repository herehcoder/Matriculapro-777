
üìã **Prompt T√©cnico ‚Äì A√ß√£o Imediata no EduMatrik AI**

> **Leia atentamente toda a descri√ß√£o do projeto abaixo** e execute as tarefas pendentes para levar o EduMatrik AI de **95% para 100% de funcionalidade real**.  


realize os pontos pendentes em multi tarefa ou seja resolva 5 de uma vez e depois o restante
---

### üîç Descri√ß√£o Resumida
O EduMatrik AI √© um SaaS para automatizar matr√≠culas escolares, cobrindo desde leads at√© pagamento e comunica√ß√£o via WhatsApp. Est√° ~95% pronto, com backend em Express/TypeScript, frontend em React/TypeScript, banco PostgreSQL (Drizzle ORM), OCR real (Tesseract.js), Stripe, Pusher e Evolution API para WhatsApp.

---

### üõ† Pontos Pendentes (5% Restantes)

1. **Depend√™ncia de Seguran√ßa**  
   - Instalar **jsonwebtoken** (`npm install jsonwebtoken`)  
   - Garantir uso correto em `server/auth.ts` para gera√ß√£o/valida√ß√£o de JWT

2. **Ajustes no Schema do Banco**  
   - Acrescentar estados extras no fluxo de matr√≠cula:
     - `document_verification`
     - `document_pending`
     - `document_approved`

3. **Corre√ß√µes de Tipagem (TypeScript)**  
   - Revisar erros de tipagem em controllers e servi√ßos  
   - Ajustar tipos no frontend para refletir novos campos do schema

4. **Middlewares de Autentica√ß√£o**  
   - Proteger endpoints cr√≠ticos com middleware JWT  
   - Garantir que apenas usu√°rios com a role correta acessem cada rota

5. **Atualiza√ß√£o do Frontend**  
   - Consumir:
     - Novo endpoint de WhatsApp (inst√¢ncia por escola)  
     - Servi√ßos OCR aprimorados  
     - Endpoints de analytics avan√ßado  
   - Atualizar hooks e contextos para vari√°veis de ambiente (env vars)

6. **Testes com Credenciais Reais**  
   - Validar integra√ß√£o Stripe, Evolution API e OCR em ambiente de staging  
   - Criar testes unit√°rios/mocks para fluxos cr√≠ticos

7. **Verifica√ß√£o de Vari√°veis de Ambiente**  
   - Conferir `.env.example` e documentar obrigatoriedade de:
     - `JWT_SECRET`
     - `STRIPE_KEY`
     - `EVOLUTION_API_URL` e `EVOLUTION_API_TOKEN`
     - `DB_CONNECTION`

8. **Tratamento Robusto de Erros**  
   - Capturar e logar todas exce√ß√µes nos servi√ßos de API  
   - Enviar feedback de erro claro ao frontend

9. **API Keys e Credenciais**  
   - Garantir que todas as chaves (Stripe, Evolution API, etc.) estejam configuradas no CI/CD  
   - Documentar no README como gerar/obter cada uma

---

### üìà **Meta da Sprint**
- Concluir todos os itens acima em **m√°ximo 5 dias**.
- C√≥digo revisado em PRs com pelo menos 1 teste passando.
- Deploy autom√°tico em ambiente de staging ao final de cada dia.

---

Bora finalizar esses √∫ltimos 5% e entregar o EduMatrik AI 100% pronto para produ√ß√£o! üöÄ